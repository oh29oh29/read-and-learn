# 07. 다 쓴 객체 참조를 해제하라

객체 참조 하나를 살려두면 가비지 컬렉터는 그 객체뿐 아니라 그 객체가 참조하는 
모든 객체(그리고 또 그 객체들이 참조하는 모든 객체...)를 회수해가지 못한다.  

단 몇 개의 객체가 매우 많은 객체를 회수되지 못하게 할 수 있고 잠재적으로 성능에 악영향을 줄 수 있다.  

<b>해법은 해당 참조를 다 썼을 때 null 처리하면 된다.</b>  

하지만, 모든 객체를 다 쓰자마자 일일이 null 처리하지 않아도 된다. 프로그램을 필요 이상으로 지저분하게 만들 뿐이다.  

<b>객체 참조를 null 처리하는 일은 예외적인 경우여야 한다.</b>  

다 쓴 참조를 해제하는 가장 좋은 방법은 그 참조를 담은 변수를 유효 범위(scope) 밖으로 밀어내는 것이다. 
변수의 범위를 최소가 되게 정의했다면([57. 지역변수의 범위를 최소화하라](https://github.com/oh29oh29/read-and-learn/tree/master/books/effective-java-3rd/Chapter57.md)) 이 일은 자연스럽게 이뤄진다.  

<b>자기 메모리를 직접 관리하는 클래스라면 항시 메모리 누수에 주의해야 한다.</b>

원소를 다 사용한 즉시 그 원소가 참조한 객체들을 다 null 처리해줘야 한다.  
캐시 역시 메모리 누수를 일으키는 주범이다.  

메모리 누수의 세 번째 주범은 바로 리스너(linstner) 혹은 콜백(callback)이라 부르는 것이다.  
클라이언트가 콜백을 등록만 하고 명확히 해지하지 않는다면, 뭔가 조치해주지 않는 한 콜백은 계속 쌓여갈 것이다.