# 04. 웹 브라우저가 응답 메시지를 받아 화면에 표시한다 

### 응답 데이터의 형식을 보고 본질을 판단한다

웹 서버가 보낸 응답 메시지는 다수의 패킷으로 나뉘어 클라이언트에 도착하는데, 클라이언트가 이것을 수신한다.  
LAN 어댑터가 신호로부터 디지털 데이터로 되돌리고, 프로토콜 스택이 분할된 패킷을 모아서 데이터 부분을 추출하고 원래의 응답 메시지로 되돌린 후 이것을 브라우저에 건네준다.

화면 표시 동작은 응답 메시지에 저장된 데이터가 어떤 종류인지를 조사하는 것부터 시작한다.  
웹에서 취급하는 데이터는 다양하고, 종류에 따라 표시 방법이 다르기 때문에 최초에 종류를 조사해야 한다.

데이터의 종류를 판단하는 근거는 몇 가지가 있는데, 응답 메시지의 맨 앞부분에 있는 `Content-Type` 이라는 헤더 파일의 값으로 판단하는 것이 원칙이다.

`Content-Type` 으로 데이터의 종류를 조사하면 `Content-Encoding` 이라는 헤더 필드의 값도 조사한다.  
압축 기술이나 부호화 기술에 따라 원래 데이터를 변환하고 나서 메시지에 저장한 경우에는 어떤 변환을 했는지를 `Content-Encoding` 필드에 기록해야 한다.

`Content-Type` 필드를 사용하여 데이터의 종류를 나타내는 방법은 MIME 이라는 사양에 규정되어 있다.  
웹뿐만 아니라 메일 등에서도 사용하는 일반적인 방법이다.

### 브라우저 화면에 웹 페이지를 표시하여 액세스를 완료한다

데이터의 종류에 따라 화면 표시의 프로그램을 호출하여 데이터를 표시한다.  
HTML 문서, 일반 텍스트, 화상이라는 기본적인 데이터는 브라우저 자체가 화면 표시 기능을 가지고 있으므로 브라우저 자체에서 화면 표시 동작을 실행한다.

HTML 문서에는 문자의 레이아웃이나 글꼴의 종류 등을 기록한 태그가 내장되어 있으므로 태그의 의미를 해석하여 문장을 배치하면서 화면에 표시한다.  
실제 화면 표시 동작은 OS 가 담당하므로 OS 에 대해 화면의 어떤 위치에, 어떤 문자를, 어떤 글꼴로 표시할지 지시하는 것이다.

웹 서버에 읽어오는 것에는 애플리케이션의 데이터도 있다.  
이 경우에는 자체에서 표시할 수 없으므로 해당 애플리케이션을 호출한다.  
해당 애플리케이션은 브라우저에 플러그인으로 편입된 형태일 수도 있고, 독립된 프로그램일 수도 있다.

이렇게 해서 브라우저는 표시 동작을 마치고 사용자가 다음 행동을 하기를 기다린다.  
그리고 표시한 페이지 안의 링크를 클릭하거나 URL 입력 상자에 새로운 URL 을 입력하면 다시 웹 서버에 대한 액세스 동작이 시작된다.