# 05. IP 와 이더넷의 패킷 송∙수신 동작 

### 패킷의 기본

![패킷의 모습](images/IMG_02_05_01.png)

먼저 송신처가 패킷을 만든다.  
그후 패킷을 가장 가까운 중계 장치에 송신한다.

![중계장치](images/IMG_02_05_02.png)

패킷의 헤더에 기록되어 있는 수신처와 표에 등록된 내용을 비교하여 패킷의 목적지를 판단한다.  
이렇게 해서 다음 목적지인 중계 장치에 송신한다.  
차례로 패킷을 중계하면 최종적으로 수신처의 기기에 패킷이 도착한다.

송신처와 수신처의 기기를 묶어서 '엔드노드' 라고 부른다.

서브넷은 '라우터' 와 '허브' 라는 두 종류의 패킷 중계 장치에서 다음과 같은 역할을 분담하면서 패킷을 운반한다.
> 1. 라우터가 목적지를 확인하여 다음 라우터를 나타낸다.
> 2. 허브가 서브넷 안에서 패킷을 운반하여 다음 라우터에 도착한다.

송신처에서 패킷의 목적지가 되는 액세스 대상 서버의 IP 주소를 IP 헤더의 수신처에 기록한다.  
IP 는 수신처가 어느 방향에 있는지를 조사하고, 그 방향에 있는 다음 라우터를 조사한다.  
그리고 그곳에 도착하도록 이더넷에 의뢰한다.  
다음 라우터에 할당된 이더넷의 주소인 MAC 주소를 조사하고, MAC 헤더에 기록한다.

![패킷을 운반하는 원리](images/IMG_02_05_03.png)

이더넷 부분은 다른 것으로 대체할 수 있다.  
무선 LAN, ADSL, FTTH 등 IP 의 의뢰를 받아 패킷을 운반할 수 잇는 것이면 무엇이든지 이더넷 대신 사용할 수 있다.

