# 03. 전 세계의 DNS 서버가 연대한다

### DNS 서버의 기본 동작

DNS 서버가 받은 조회 메시지는 다음 세 가지 정보가 포함되어 있다.
1. 이름
   - 서버나 메일 배송 목적지
2. 클래스
   - 인터넷 이외에도 네트워크에서의 이용까지 식별하기 위한 값
   - 지금은 인터넷 이외의 네트워크는 소멸되어 항상 인터넷을 나타내는 'IN' 값
3. 타입
   - 이름에 어떤 타입의 정보가 지원되는지를 나타내기 위한 값
   - 'A' 이면 이름에 IP 주소가 지원되는 것을 나타내며, 'MX' 이면 이름에 메일 배송 목적지가 지원된다는 것을 나타냄
   - 타입에 따라 클라이언트로 응답하는 내용이 달라짐
   
DNS 서버에는 이들 세 가지 정보에 대응하는 클라이언트에 응답하는 항목을 등록해 두었다.

![DNS 서버의 기본 동작](images/IMG_01_03_01.png)

실제로는 등록 정보가 설정 파일 등에 입력되어 있다.  
위 표의 1행 정보에 해당하는 것을 **리소스 레코드**라고 부른다.

### 도메인의 계층

인터넷에는 막대한 수의 서버가 있으므로 이것을 전부 1대의 DNS 서버에 등록하는 것은 불가능하다.

정보를 분산시켜서 다수의 DNS 서버에 등록하고, 다수의 DNS 서버가 연대하여 어디에 정보가 등록되어 있는지를 찾아내는 구조이다.

DNS 서버에 등록한 정보에는 모든 도메인명이라는 계층적 구조를 가진 이름이 붙여져 있다.  
계층화해서 다수의 정보를 깔끔하게 정리할 수 있다.

DNS 에서 취급하는 이름은 www.naver.com 처럼 점으로 구분되어 있으며, 이 점이 계층을 구분한다.  
각 계층을 도메인이라고 한다. 즉, com 이라는 도메인의 아래에 naver 라는 도메인이 있고, naver 라는 도메인 아래에 www 라는 도메인이 있는 셈이다.

