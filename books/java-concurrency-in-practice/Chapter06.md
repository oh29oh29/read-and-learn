# 06. 작업 실행

### 6.1.3 쓰레드를 많이 생성할 때의 문제점

작업마다 쓰레드를 생성하는 정책은 실제 서비스에 적용하기에 무리가 있음

#### 쓰레드 라이프 사이클 문제

쓰레드를 생성하고 제거하는 작업에도 비용 발생 (운영체제에 따라 다르지만)

#### 자원 낭비

실행 중인 쓰레드는 시스템의 자원, 특히 메모리를 소모함  
하드웨어에 실제로 장착된 프로세서보다 많은 수의 쓰레드가 만들어져 동작 중이라면, 대부분의 쓰레드는 대기(idle) 상태

#### 안정성 문제

모든 시스템에는 생성할 수 있는 쓰레드 개수가 제한되어 있음  
플랫폼, 운영체제에 따라, 또는 JVM을 실행할 때 지정하는 인자나 Thread 클래스에 필요한 스택의 크기에 따라서 달라짐  
제한된 양을 모두 사용하고 나면 아마도 `OutOfMemoryError`가 발생함

### 6.2.3 쓰레드 풀

작업을 처리할 수 있는 동일한 형태의 쓰레드를 풀의 형태로 관리  
일반적으로 쓰레드 풀은 풀 내부의 쓰레드로 처리할 작업을 쌓아둬야 하기 때문에 작업 큐(work queue)와 굉장히 밀접한 관련이 있음

작업 쓰레드는 아주 간단한 주기로 동작함  
먼저 작업 큐에서 실행할 다음 작업을 가져오고, 실행하고, 다음 작업이 나타날 때까지 대기하는 일을 반복함
