# 02. 도메인, 서브도메인, 바운디드 컨텍스트  

### 큰그림

넓은 의미에서 도메인이란 한 조직이 행하는 일과 그 조직 안의 세계를 일컫는다.

도메인이란 용어는 여러 의미를 가진다.  
비즈니스의 전체 도메인을 말할 수도 있고, 한 가지 핵심 부분이나 다른 지원 분야일 수도 있다.

#### 서브도메인과 바운디드 컨텍스트의 활용

최대한 모든 것을 하나의 시스템으로 묶어 만든다면 모든 것이 서로 연결돼 다른 모든 것과 서로 의존성을 갖게 된다.  
따라서 여러 서브도메인으로 나눌 수도 있는 소프트웨어 도메인 모델을 굳이 구분 짓지 않는다면 변화가 계속됨에 따라 훨씬 큰 부담을 지게 된다.

DDD의 전략적 설계 도구 중 하나를 사용함으로써, 서로 얽혀 있는 모델의 실제 기능을 논리적 측면에서 분리시켜 복잡도를 어느 정도 낮출 수 있다.

서브도메인이 항상 큰 크기와 기능을 가진 특별한 모델을 포함하는 건 아니다.  
때론 서브도메인은 고유의 핵심 도메인의 일부가 아닌, 일련의 알고리즘과 같은 간단한 형태일 수도 있다.  
좋은 DDD 기법을 적용한다면 이처럼 간단한 서브도메인은 모듈을 이용해 핵심 도메인과 구분될 수 있으며, 무겁고 아키텍처적으로 의미가 있는 서브시스템 구성 요소에 포함될 필요가 없어진다.

DDD를 도입하면서, 도메인 모델에서 사용된 모든 용어의 의미가 잘 이해되도록 각 바운디드 컨텍스트를 잘 나누려고 노력한다.  
또는 소프트웨어의 모델링을 잘 수행했다면 당연히 이해할 수 있을 정도가 되도록 노력한다.  
이는 주로 언어적 경계이며, 이런 컨텍스트상의 경계는 DDD 구현의 중요 요소다.

#### 핵심 도메인에 집중하기

핵심 도메인은 그 조직의 성공에 가장 중요한 비즈니스 도메인의 한 부분이다.  
DDD 프로젝트에 투입되는 노력의 대부분은 핵심 도메인에 초점이 맞춰져야 한다.

지원 서브도메인과 범용 서브도메인이라는 두 가지 다른 종류의 서브도메인이 있다.  
때로 바운디드 컨텍스트는 비즈니스를 지원하기 위해 만들어지거나 차용된다.  
만약 어느 정도 비즈니스에 필수적이긴 하나 핵심은 아닌 부분을 모델링할 경우, 이를 지원 서브시스템이라고 한다.  
반면에 비즈니스적으로 특화된 부분은 찾을 수 없지만 전체 비즈니스 솔루션에 필요하다면 이는 범용 서브도메인이다.

이런 종류의 서브도메인은 비즈니스의 성공에 중요하지만, 비즈니스가 이 부분에서 탁월할 필요는 없다.  
핵심 도메인의 구현에는 탁월함이 요구되는데, 핵심 도메인이 비즈니스에 분명한 이점을 제공하기 때문이다.

### 왜 전략적 설계가 엄청나게 필수적인가

팀은 비즈니스 도메인과 그에 따른 서브도메인은 물론이고, 반드시 개발하고 있는 바운디드 컨텍스트도 제대로 이해해야 한다.  
이를 통해 전략적 설계를 가로막는 거대한 진흙공의 더러운 물을 막을 수 있다.

### 현실의 도메인과 서브도메인

도메인은 문제점 영역과 해결책 영역을 모두 갖고 있다.  
문제점 영역은 우리에게 풀어야 할 전략적 비즈니스 문제점을 생각하게 한다.  
해결책 영역은 이런 비즈니스 문제점을 풀어줄 소프트웨어를 구현하는 방법에 초점을 맞춘다.

### 바운디드 컨텍스트 이해하기

바운디드 컨텍스트는 명시적이고 언어적이다.  
도메인 모델의 존재를 담고 있는 명시적 경계다.  
이 경계 안에선 모든 유비쿼터스 언어의 용어와 구문이 구체적인 의미를 갖게 되고, 정확성을 보장하며 언어를 반영한다.

통합이 필요한 순간이라면 바운디드 컨텍스트들 사이의 매핑이 반드시 필요하다.  
이는 DDD의 복잡도가 높게 나타나는 측면이며, 그에 상당하는 수준의 관리 노력을 필요로 한다.  

#### 모델 그 이상을 위해

바운디드 컨텍스트는 도메인 모델만을 포함하진 않는다.  
시스템이나 애플리케이션, 혹은 비즈니스 서비스를 표시해주기도 한다.

바운디드 컨텍스트는 주로 유비쿼터스 언어와 그에 해당하는 도메인 모델을 캡슐화하지만, 이는 도메인 모델과의 상호작용과 도메인 모델의 지원을 위해 존재하는 다른 요소를 포함한다.

#### 바운디드 컨텍스트의 크기

바운디드 컨텍스트는 완전한 유비쿼터스 언어를 표현하기 위해 필요한 크기만큼 커야 한다.

#### 기술적 컴포넌트로 정렬하기

바운디드 컨텍스트를 포괄하는 기술적 컴포넌트의 맥락에서 바운디드 컨텍스트를 생각해보는 것도 나쁘지 않다.  
다만 기술적 컴포넌트가 컨텍스트를 정의해주지 않는다는 점을 기억하자.